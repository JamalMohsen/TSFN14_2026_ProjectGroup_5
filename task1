# Task 1 – Architecture, Scalability and Fault Tolerance Analysis

## Project Information

- **Project:** MMJAuto  
- **Course:** Skalbara och feltoleranta system  
- **Contributors:** Jamal Mohsen, Mohamad Nour Morad  

---

## 1. Current Application Architecture

### 1.1 Overview

MMJAuto is a web-based application that allows users to browse car models and car parts, manage a wishlist, and receive notifications. The system also supports administrator functionality for managing car models and car parts.

The application is built using a **client–server architecture** with a clear separation between frontend, backend, and database. Communication between components is handled through RESTful APIs.

The system supports basic e-commerce–style functionality and user management, including:
- Authentication
- Role-based access control
- Notifications

---

### 1.2 Main Components

The application consists of the following main components:

#### Frontend (React)

The frontend is built using **React** and **Material UI (MUI)**. It provides the user interface for both customers and administrators.

Main responsibilities:
- Displaying car models and car parts
- Search functionality for car models and car parts
- Handling user login and registration
- Managing wishlist interactions
- Communicating with the backend via HTTP requests (Axios)

---

#### Backend (Express / Node.js)

The backend is implemented using **Node.js** with the **Express** framework. It exposes a REST API that handles business logic and data processing.

Main responsibilities:
- Handling API requests from the frontend
- User authentication and authorization
- Role-based access control for admin features
- CRUD operations for car models and car parts
- Wishlist management
- Notification triggering

---

#### Database (MongoDB Atlas)

The database uses **MongoDB Atlas**, accessed through **Mongoose**.

Main responsibilities:
- Storing user data
- Storing car models and car parts
- Persisting wishlist data
- Supporting search queries and filters

---

#### External Services

- **Email Service:** Used to send notifications when new car parts are added or restocked.

---

### 1.3 Communication Between Components

- The **frontend** communicates with the **backend** using RESTful HTTP requests via Axios.
- The **backend** communicates with the **database** using Mongoose.
- The **backend** communicates with the **email service** to send notifications.

---

### 1.4 Architectural Style

The application follows a **layered client–server architecture**:
- Presentation layer (React frontend)
- Application layer (Express backend)
- Data layer (MongoDB database)

This separation improves maintainability and clarity but introduces potential scalability and fault-tolerance challenges.

---

## 2. Scalability and Fault-Tolerance Issues

### 2.1 Scalability Issues

#### S1. Resource Usage

As the number of users increases:
- The backend server may experience higher CPU and memory usage.
- Database queries for search and listing car parts can become resource-intensive.
- Image loading for car parts may increase bandwidth usage.

---

#### S2. Shared State

- The application relies on a **single shared MongoDB database**.
- All users and administrators interact with the same database instance.
- This can become a bottleneck if traffic increases significantly.

---

#### S3. Concurrency Handling

- The backend processes multiple requests concurrently using Node.js’s event-driven model.
- High numbers of simultaneous requests (e.g. searches, wishlist updates) may cause performance degradation.
- There is a risk of race conditions during stock updates if multiple users interact at the same time.

---

#### S4. Blocking Operations

- Long-running database queries can delay responses.
- Synchronous operations, if introduced accidentally, could block the event loop.
- Email notifications are triggered during backend operations, which may slow down request handling.

---

#### S5. External Dependencies

- The system depends on external services such as:
  - MongoDB Atlas
  - Email service
- Failures or slow responses from these services can impact application performance.

---

### 2.2 Fault-Tolerance Issues

#### FT1. Single Points of Failure

- One backend service instance
- One MongoDB database
- Environment configuration and secrets stored in a single location

Failure in any of these components can disrupt the entire system.

---

#### FT2. Error Handling

- Errors are handled centrally using middleware.
- Some errors may still result in generic responses to the client.
- Unexpected failures may cause request crashes if not properly handled.

---

#### FT3. Dependency Failures

- If the database becomes unavailable, the application cannot function.
- If the email service fails, notifications will not be delivered.
- Network issues may prevent communication between components.

---

#### FT4. Restart and Recovery

- The backend can be restarted manually or via development tools.
- Application state is mostly stored in the database, allowing recovery after restarts.
- In-memory state would be lost during crashes.

---

#### FT5. Observability

- Logging is mainly done through console output.
- Limited monitoring makes it harder to detect and diagnose failures quickly.
- No centralized logging or alerting is implemented.

---

## 3. Discussion of Identified Issues

The identified scalability and fault-tolerance issues are closely related to the application’s architecture. The reliance on a single backend service and database creates potential bottlenecks and single points of failure.

While the current architecture is sufficient for a student project and small-scale usage, increased traffic would require improvements in resource management, error handling, and dependency isolation to ensure scalability and fault tolerance.

---

## Architecture Diagram



The diagram illustrates the interaction between the user browser, React frontend, Express backend, MongoDB database, and external email service.
